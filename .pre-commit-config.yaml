repos:
  # formatting
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.5.7
    hooks:
      - id: ruff
        args: [--fix]
      - id: ruff-format

  # Emoji check
  - repo: local
    hooks:
      - id: no-emoji
        name: No Emoji
        entry: bash -c 'if [ "$#" -gt 0 ] && grep -n -E "[\x{2013}\x{2014}\x{2018}\x{2019}\x{201C}\x{201D}\x{2600}-\x{26FF}\x{1F300}-\x{1FAFF}]" -- "$@"; then echo "Emoji or disallowed characters found! Please remove them."; exit 1; fi'
        language: system
        types: [text]

  # pytest
  - repo: local
    hooks:
      - id: pytest
        name: Pytest
        entry: pytest
        language: system
        types: [python]
        args: [tests]
        stages: [pre-push]
        always_run: true
